!function(h){"use strict";void 0!==h?h.fn.autocompleter=function(d,f){return f=h.extend({maxResults:0,minChars:1,delay:500,ajaxData:function(e){return{value:e}},hiddenDefaultValue:"",value:null,template:function(e,t){return e},row:f.template||function(e,t){return e},filter:function(e,t,n,l){return~l.toLowerCase().indexOf(n.toLowerCase())}},f),this.each(function(){var i=!1,l=!1,o="function"==typeof f.value,r=h(this),n=r.val().trim(),e=f.hiddenDefaultValue,a=h('<input type="hidden" value="'+e+'">'),u=h('<div class="multiselect-dropdownlist">');function t(){var e=r.position();u.css({left:e.left,top:e.top+r.outerHeight(),width:r.outerWidth()})}function s(t,e){(t=t.trim())!==n?(a.val(f.hiddenDefaultValue),r.hasClass("selected")&&r.removeClass("selected").trigger("autocompleter.unselect"),n=t,u.empty(),!t||t.length<f.minChars?u.hide():"String"==d.constructor.name?h.get(d,f.ajaxData(t),function(e){c(t,e)}):c(t,d)):e&&u.children().length&&u.show()}function c(e,t){var n,l=0;for(n in t){var a,i=t[n],s=f.template(i,n);f.filter(i,n,e,s)&&(f.maxResults<=0||l<f.maxResults)&&(a=o?f.value(i,n):s,s===e&&r.selected(a,s),u.addItem(i,n),l++)}u.children().length?u.show():u.hide()}window.addEventListener("resize",t),document.fonts.ready.then(t),t(),o&&(a.attr("name",r.attr("name")),r.removeAttr("name").after(a)),u.unselect=function(){return u.find(".selected").removeClass("selected"),this},u.show=function(){h.fn.show.apply(this,arguments),l=!0,u.unselect().scrollTop(0).children().first().addClass("selected")},u.hide=function(){h.fn.hide.apply(this,arguments),l=!1},u.mouseout(function(){i||u.unselect()}),u.select=function(e){u.unselect().empty();var t=e.data("template");return n=t,r.selected(e.data("value"),t).val(t),this},u.addItem=function(e,t){var n=f.template(e,t),l=o?f.value(e,t):n,a=h('<div class="autocompleter-item">').attr("data-template",n).attr("data-value",l).html(f.row(e,t)).mousedown(function(e){e.preventDefault(),u.select(a).hide()}).mouseover(function(){i||(i=!1,u.unselect(),a.addClass("selected"))}).mousemove(function(){i&&(i=!1,u.unselect(),a.addClass("selected"))});u.append(a)},r.selected=function(e,t){return o&&a.val(e),r.addClass("selected").trigger("autocompleter.select",{value:e,template:t}),this},r.after(u).click(function(){s(r.val(),1)}).blur(function(){u.hide()}).on("paste",function(e){s(e.originalEvent.clipboardData.getData("text"),1)}).keyup(function(){var e,t;e=function(){s(r.val())},(t=[]).push(1),setTimeout(function(){t.pop(),t.length||e()},f.delay)}).keydown(function(e){switch(e.which){case 38:return void function(e){if(l){e.preventDefault(),i=!0;var t=u.find(".selected").first();if(t.length){u.unselect();e=t.prev();if(e.length){t=e.addClass("selected").position().top,e=u.position().top-e.innerHeight();return t<e&&u.scrollTop(u.scrollTop()+e+t)}}u.scrollTop(u.get(0).scrollHeight).children().last().addClass("selected")}}(e);case 40:return void function(){if(l){i=!0;var e=u.find(".selected").first();if(e.length){u.unselect();var t=e.next();if(t.length){var n=u.outerHeight(),e=t.addClass("selected").innerHeight(),t=t.position().top+e;return n<t&&u.scrollTop(u.scrollTop()+e-u.position().top-n+t)}}u.scrollTop(0).children().first().addClass("selected")}else u.children().length&&u.show()}();case 13:return(t=e).preventDefault(),(t=u.find(".selected").first()).length&&u.select(t),void u.hide();case 27:return void u.hide()}var t})})}:console.warn("Required jQuery.")}(jQuery);